# mangamuradl

## ダウンロード

windows(x64)ビルドは以下のリリースページの mangamuradl.zip から取得可能

https://github.com/internetisbroken/mangamuradl/releases

## はじめに

v2.0.0からページリストの取得に Chrome ブラウザ（ChromeDriver）を使用するため、あらかじめ Chrome のインストールが必要。

ツールを実行すると、Chromeが起動するので reCAPTCHA の認証が求められたた場合には、ユーザー操作で認証を行うこと。

手動でブラウザを閉じたりリンクをクリックするなど、それ以外の操作が行われるとページリストの取得が失敗する。

動作中（特に初回起動時）ファイアウォールのメッセージが出る場合、キャンセル（不許可）で問題ない。


## 使い方 (GUI)

mangamuragui.exe を実行し、
右上の入力ボックスにpageid（URLまたは数字）を入力した後、左上のStartボタンを押す。
結果が下のテキストボックスに表示される。

ブラウザ上で画像認証を求められる場合は、完了させることでページリストの取得が継続される。

動作中にファイアウォールのメッセージが出る場合、キャンセル（不許可）で問題ない。

入力例:

```
hxxp://mangamura.org/?p=1234567890
1234567890
```

必要であればオプションを付ける。
詳細は"コマンドラインオプション" 参照。

本プログラムは、コマンドライン版のラッパーなので、コマンドライン版の使い方も参照。

## mangamuradl の使い方 (コマンドライン)

Powershellかコマンドプロンプト等で

```
.\mangamuradl [options...] pageid
```

例：
```
.\mangamuradl 1234567890
```

実行すると「img/タイトル名」のフォルダが作成され、その下に画像がDLされる。


### pageid

以下のような感じを入力。
- hxxp://mangamura.org/?p=1234567890
- 1234567890


### コマンドラインオプション

とくになし


## 外部ツール

外部ツールでファイアウォールのメッセージが出る場合、キャンセル（不許可）で問題ない。

必要なプログラムは初回起動時に自動的にダウンロードして解凍される。

- convert (ImageMagic) pdf作成および分割ページの処理に必要
- phantomjs 分割ページの処理に必要
- chromedriver 認証ページの操作に必要

## トラブルシュート

- 動作がおかしい時はmangamuradl.iniとdbフォルダを削除してみる
- リリースページを確認し最新版があれば更新する
